import akka.actor.Actor.Receive
import akka.actor.ActorSystem
import akka.actor.{Actor, ActorRef, ActorSelection}
import akka.remote.transport.ThrottlerTransportAdapter.Direction.Receive
import akka.util.Timeout
import de.l3s.boilerpipe.extractors.ArticleExtractor
import org.scalatest._
import org.scalatest.Matchers
import akka.pattern.ask
import scala.concurrent.duration._
import akka.testkit.TestActorRef

class HelloSpec extends FlatSpec with Matchers {
  "Hello" should "have tests" in {

    import scala.concurrent.ExecutionContext.Implicits.global
    implicit val actorSystem = ActorSystem("hey")

    val actor = TestActorRef[RestartingActor]
    actor ! "hey"
    actor ! "hey"

   // ask(actor)

//    val str = "\n<!doctype html>\n<!--[if lt IE 7]> <html class=\"lt-ie10 lt-ie9 lt-ie8 lt-ie7\" lang=\"en\"> <![endif]-->\n<!--[if IE 7]>    <html class=\"lt-ie10 lt-ie9 lt-ie8\" lang=\"en\"> <![endif]-->\n<!--[if IE 8]>    <html class=\"lt-ie10 lt-ie9\" lang=\"en\"> <![endif]-->    \n<!--[if IE 9]>    <html class=\"lt-ie10\" lang=\"en\"> <![endif]-->   \n<!--[if gt IE 9]><!--> \n<html lang=\"en\"> \n<!--<![endif]-->\n    <head>\n        <base href=\"http://www.newsinlevels.com/\">\n  <meta charset=\"utf-8\">\n  <meta name=\"description\" content=\"The First Folio is a book with 36 plays by William Shakespeare. It includes the most famous ones, such as Hamlet and Romeo and Juliet.\">\n  <meta name=\"keywords\" content=\"First Folio, William Shakespeare, France, literature, UK, book, news, 2015\">\n  <meta name=\"generator\" content=\"Webnode, see http://www.webnode.com/\">\n  <meta name=\"apple-mobile-web-app-capable\" content=\"yes\">\n  <meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black\">\n  <meta name=\"format-detection\" content=\"telephone=no\">\n    <meta name=\"google-site-verification\" content=\"VHzLhsRAv8H6qvQhu5G4LXqe3ny-NQXrHlh0ElMWwDk\">\n  <link rel=\"shortcut icon\" href=\"http://files.newsinlevels.com/200004464-441a445145/faviconNiL.ico\">\n<link rel=\"canonical\" href=\"http://www.newsinlevels.com/products/the-first-folio-level-1/\">\n  <link rel=\"alternate\" media=\"only screen and (max-width: 700px)\" href=\"http://m.newsinlevels.com/products/the-first-folio-level-1/\" >\n<script type=\"text/javascript\">var _gaq=_gaq||[];_gaq.push(['_setAccount','UA-797705-6'],['_trackPageview'],['ut._setAccount','UA-26077551-1'],['ut._trackPageview']);(function(){var ga=document.createElement('script');ga.type='text/javascript';ga.async=true;ga.src=('https:'==location.protocol?'https://ssl':'http://www')+'.google-analytics.com/ga.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ga,s);})();var pageTrackerAllTrackEvent=function(category,action,opt_label,opt_value){_gaq.push(['_trackEvent',category,action,opt_label,opt_value]);};</script>\n  <link rel=\"alternate\" type=\"application/rss+xml\" href=\"http://feeds.feedburner.com/NewsInLevels\" title=\"\">\n  <link rel=\"alternate\" type=\"application/rss+xml\" href=\"http://newsinlevels.com/rss/level-1.xml\" title=\"Level 1 archive\">\n  <link rel=\"alternate\" type=\"application/rss+xml\" href=\"http://newsinlevels.com/rss/level-2.xml\" title=\"Level 2 archive\">\n  <link rel=\"alternate\" type=\"application/rss+xml\" href=\"http://newsinlevels.com/rss/level-3.xml\" title=\"Level 3 archive\">\n  <link rel=\"alternate\" type=\"application/rss+xml\" href=\"http://newsinlevels.com/rss/level-3-bonus-listening2.xml\" title=\"LEVEL 3 BONUS LISTENING\">\n  <link rel=\"alternate\" type=\"application/rss+xml\" href=\"http://newsinlevels.com/rss/authors-of-pictures.xml\" title=\"Authors of pictures\">\n<!--[if lte IE 9]><style type=\"text/css\">.cke_skin_webnode iframe {vertical-align: baseline !important;}</style><![endif]-->\n        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\"> \n\t<meta property=\"fb:app_id\" content=\"402993636441561\"/> \n        <title>The First Folio</title>\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">  \n        <link rel=\"stylesheet\" href=\"/css/style.css\" />\n\t<link rel=\"stylesheet\" href=\"/js/jQuery.jPlayer.2.4.0/blue.monday/jplayer.blue.monday.css\" />\n\t<link rel=\"alternate\" type=\"application/rss+xml\" title=\"News in Levels\" href=\"http://feeds.feedburner.com/newsinlevels\" />      \n        <script type=\"text/javascript\" src=\"//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js\"></script>\n        <script type=\"text/javascript\" src=\"/js/functions.js\"></script>\n\t<script type=\"text/javascript\" src=\"/js/jQuery.jPlayer.2.4.0/jquery.jplayer.min.js\"></script>\n  <script type=\"text/javascript\">\n  window._taboola = window._taboola || [];\n  _taboola.push({article:'auto'});\n  !function (e, f, u) {\n    e.async = 1;\n    e.src = u;\n    f.parentNode.insertBefore(e, f);\n  }(document.createElement('script'),\n  document.getElementsByTagName('script')[0],\n  'http://cdn.taboola.com/libtrc/newsinlevels/loader.js');\n</script>      \n    \n\t\t\t\t<script type=\"text/javascript\">\n\t\t\t\t/* <![CDATA[ */\n\t\t\t\t\t\n\t\t\t\t\tif (typeof(RS_CFG) == 'undefined') RS_CFG = new Array();\n\t\t\t\t\tRS_CFG['staticServers'] = new Array('http://static-cdn1.webnode.com/', 'http://static-cdn2.webnode.com/', 'http://static-cdn3.webnode.com/', 'http://static-cdn4.webnode.com/');\n\t\t\t\t\tRS_CFG['filesPath'] = 'http://files.newsinlevels.com/';\n\t\t\t\t\tRS_CFG['lbClose'] = 'Close';\n\t\t\t\t\tRS_CFG['skin'] = 'default';\n\t\t\t\t\tif (!RS_CFG['labels']) RS_CFG['labels'] = new Array();\n\t\t\t\t\tRS_CFG['systemName'] = 'Webnode';\n\t\t\t\t\t\t\n\t\t\t\t\tRS_CFG['responsiveLayout'] = 0;\n\t\t\t\t\tRS_CFG['mobileDevice'] = 0;\n\t\t\t\t\tRS_CFG['labels']['copyPasteSource'] = 'Read more:';\n\t\t\t\t\t\n\t\t\t\t/* ]]> */\n\t\t\t\t</script><script type=\"text/javascript\" src=\"http://static-cdn1.webnode.com/_system/client/js/compressed/frontend.package.1-2-175.js\"></script><style type=\"text/css\"></style></head>\n    <body>    <div id=\"siteBg\"><div id=\"light\">\n        <div id=\"site\">\n\n            <!-- HEADER -->\n            <div id=\"header\">\n <a href=\"http://www.englishrestart.com?utm_source=NiL&utm_campaign=HorniBanner\" target=\"_blank\" style=\"position:absolute; top:12px; right:0px\"><img src=\"http://files.newsinlevels.com/200006233-0be1e0cdcd/er-bubble.png\"></a>            \n                <div id=\"logozone\">\n                    <div id=\"logo\"><a href=\"home/\" class=\"image\" title=\"Home\"><span id=\"rbcSystemIdentifierLogo\"><img src=\"http://files.newsinlevels.com/200002527-5e80a5f7b3/logo-news-in-levels.png\"  width=\"258\" height=\"52\"  alt=\"News in Levels - easy English reading and listening\"></span></a></div>                </div> \n                <div id=\"slider\">\n                    <div id=\"sliderContent\">\n                                                \n\n        <div class=\"box wswBox wysiwyg\">\n\n    <p><img alt=\"\" height=\"50\" src=\"http://files.newsinlevels.com/200002714-8acc48b462/slogan.png\"></p>\n\n                       \n            <div class=\"cleaner\"><!-- / --></div>\n        </div>\n        <div class=\"cleaner\"><!-- / --></div>\n\n                        </div>\n                </div>\n            </div>\n            <!-- /HEADER -->\n\n            <div class=\"cleaner\"><!-- / --></div>\n\n            <!-- MAIN -->\n            <div id=\"main\">\n                <div id=\"mainContent\">\n                                       \n                    <!-- NAVIGATOR -->\n                    <div id=\"pageNavigator\" class=\"rbcContentBlock\">          <div id=\"navizone\">            <a class=\"navFirstPage\" href=\"/home/\">Home</a>        <span><span> > </span></span>          <span id=\"navCurrentPage\">The First Folio - level 1</span>             <div class=\"cleaner\"><!-- / --></div>        </div>                <div class=\"cleaner\"><!-- / --></div>            </div>                    <!-- /NAVIGATOR --> \n\n                    <div class=\"cleaner\"><!-- / --></div>                    \n                        \n                    <!-- CONTENT -->\n                    <div id=\"content\">\n                        \n\t\t\t\t\n    \n\t\n        <div class=\"box productDetail\">\n            <h1>The First Folio - level 1</h1>\n            \n      \n        <p class=\"image\">\n            <a href=\"/images/200006564-1e765206a5/51_First_Folio_of_William_Shakespeare-s_plays_at_the_Victoria_-_Albert_Museum.jpg\" title=\"Page will display in a new window.\" onclick=\"return !window.open(this.href);\">\n                <img src=\"http://files.newsinlevels.com/system_preview_200006564-1e765206a5/51_First_Folio_of_William_Shakespeare-s_plays_at_the_Victoria_-_Albert_Museum.jpg\" width=\"200\" height=\"100\" alt=\"The First Folio - level 1\" />\n            </a>\n        </p>\n\n    \n            <div class=\"date\">\n                <ins></ins>\n                <span class=\"levelSubmit\"><a title=\"The First Folio - level 1 - Level 1\" class=\"level1\">Level 1</a></span>\n                <span class=\"levelSubmit\"><a title=\"The First Folio - level 1 - Level 2\" class=\"level2\">Level 2</a></span>\n                <span class=\"levelSubmit\"><a title=\"The First Folio - level 1 - Level 3\" class=\"level3\">Level 3</a></span>\n                <div class=\"cleaner\"><!-- / --></div> \n            </div>\n            <span class=\"text\"><p><strong>27-02-2015 15:00</strong></p>\n<p>The First Folio is a book. There are 36 <strong>plays</strong> in the book. The plays are by William Shakespeare.</p>\n<p>There are 230 <strong>copies</strong> of this book in the world. This makes every copy special. Every copy is very important.</p>\n<p>One copy is in France. People do not know about it. It sits in a library for years. One day, however, a man finds it. Now people know that the book is special. They <strong>take good care</strong> of it.</p>\n<p>The book stays in France for a year. Then, people move it to the United Kingdom.</p>\n<p>Difficult words: <strong>play</strong> (a story which you can watch in a theatre), <strong>copy</strong> (one of many books which are the same), <strong>to</strong> <strong>take good care of something</strong> (to do things which keep something good).</p>\n<p>You can read the original story and watch the video in the Level 3 section.</p>\n</span>                  \n            <div class=\"cleaner\"><!-- / --></div>        \n                    \t\t\t\t\t \n            <div class=\"cleaner\"><!-- / --></div>        \t\t\t\t\t \n            <div class=\"rbcBookmarks\"><div id=\"rbcBookmarks200039101\"></div></div>\n\t\t<script type=\"text/javascript\">\n\t\t\t/* <![CDATA[ */\n\t\t\tEvent.observe(window, 'load', function(){\n\t\t\t\tvar bookmarks = '<div style=\\\"float:left;\\\"><div style=\\\"float:left;\\\"><iframe src=\\\"//www.facebook.com/plugins/like.php?href=http://www.newsinlevels.com/products/the-first-folio-level-1/&amp;send=false&amp;layout=button_count&amp;width=125&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font&amp;height=21&amp;appId=225951590755638&amp;locale=en_US\\\" scrolling=\\\"no\\\" frameborder=\\\"0\\\" style=\\\"border:none; overflow:hidden; width:125px; height:21px; position:relative; top:1px;\\\" allowtransparency=\\\"true\\\"></iframe></div><div class=\\\"g-plusone\\\" data-size=\\\"medium\\\" style=\\\"float:left;\\\"></div><script type=\\\"text/javascript\\\">window.___gcfg = {lang: \\'en-US\\'};(function() {var po = document.createElement(\\'script\\'); po.type = \\'text/javascript\\'; po.async = true;po.src = \\'https://apis.google.com/js/plusone.js\\';var s = document.getElementsByTagName(\\'script\\')[0]; s.parentNode.insertBefore(po, s);})();'+'<'+'/scr'+'ipt><div style=\\\"float:left;\\\"><a href=\\\"https://twitter.com/share\\\" class=\\\"twitter-share-button\\\" data-count=\\\"horizontal\\\" data-via=\\\"webnode\\\" data-lang=\\\"en\\\">Tweet</a></div><script type=\\\"text/javascript\\\">(function() {var po = document.createElement(\\'script\\'); po.type = \\'text/javascript\\'; po.async = true;po.src = \\'//platform.twitter.com/widgets.js\\';var s = document.getElementsByTagName(\\'script\\')[0]; s.parentNode.insertBefore(po, s);})();'+'<'+'/scr'+'ipt></div> <div class=\\\"addthis_toolbox addthis_default_style\\\" style=\\\"float:left;\\\"><a class=\\\"addthis_counter addthis_pill_style\\\"></a></div> <script type=\\\"text/javascript\\\">(function() {var po = document.createElement(\\'script\\'); po.type = \\'text/javascript\\'; po.async = true;po.src = \\'http://s7.addthis.com/js/250/addthis_widget.js#pubid=webnode\\';var s = document.getElementsByTagName(\\'script\\')[0]; s.parentNode.insertBefore(po, s);})();'+'<'+'/scr'+'ipt><div style=\\\"clear:both;\\\"></div>';\n\t\t\t\t$('rbcBookmarks200039101').innerHTML = bookmarks;\n\t\t\t\tbookmarks.evalScripts();\n\t\t\t});\n\t\t\t/* ]]> */\n\t\t</script>\n\t\t        \t\t\t\t\t \n            <div class=\"cleaner\"><!-- / --></div>        \t\t\t\t\t  \n        </div>\n        <div class=\"cleaner\"><!-- / --></div>\n\n\n    \n\n    <div class=\"rbcWidgetArea\" style=\"text-align: center;\"><iframe width=\"640\" height=\"360\" src=\"//www.youtube.com/embed/wxgYi7bh12Y?rel=0\" frameborder=\"0\" allowfullscreen></iframe></div>\n\n        <div class=\"box wswBox wysiwyg\">\n\n    <h1>Do you like William Shakespeare's plays?</h1>\n\n                       \n            <div class=\"cleaner\"><!-- / --></div>\n        </div>\n        <div class=\"cleaner\"><!-- / --></div>\n\n    <div class=\"cleaner\"><!-- / --></div>\n\n                        <div class=\"cleaner\"><!-- / --></div>\n                        <div class=\"box rbcWidgetArea\" style=\"margin-top: -22px;border-top:none;padding-top: 0px;\">                            \n                            <div id=\"fb-root\"></div>\n                            <div class=\"fb-comments\" data-href=\"http://www.newsinlevels.com\" data-width=\"640\" data-num-posts=\"2\"></div>\n                            <script>\n\n                            jQuery('.fb-comments').attr(\"data-href\",location.protocol + '//' + location.hostname + location.pathname.replace(\"-level-1\",\"\").replace(\"-level-2\",\"\").replace(\"-level-3\",\"\"));\n\n                            (function(d, s, id) {\n                              var js, fjs = d.getElementsByTagName(s)[0];\n                              if (d.getElementById(id)) return;\n                              js = d.createElement(s); js.id = id;\n                              js.src = \"//connect.facebook.net/en_US/all.js#xfbml=1&appId=402993636441561\";\n                              fjs.parentNode.insertBefore(js, fjs);\n                            }(document, 'script', 'facebook-jssdk'));</script>\n                        </div>\t\n<div class=\"box rbcWidgetArea\" style=\"margin-top: 0px;border-top:none;\">                            \n\n\n<div id=\"taboola-below-article-thumbnails\"></div>\n\n                        </div>    \n<script type=\"text/javascript\">\njQuery(\"#mainContent .rbcWidgetArea\").first().after(jQuery(\"#taboola-below-article-thumbnails\").parent())\n  window._taboola = window._taboola || [];\n  _taboola.push({\n    mode: 'thumbnails-2r-a',\n    container: 'taboola-below-article-thumbnails',\n    placement: 'Below Article Thumbnails',\n    target_type: 'mix'\n  });\n</script>                        \n                        \n\n        <div class=\"box wswBox wysiwyg\">\n\n    <table border=\"0\" cellpadding=\"18\" cellspacing=\"0\" class=\"mcnTextContentContainer\" width=\"100%\" style=\"border-collapse: collapse;\">\n                                <tbody><tr>\n                                    <td valign=\"top\" class=\"mcnTextContent\" style=\"border-collapse: collapse;color: #505050;font-family: Helvetica;font-size: 14px;line-height: 150%;text-align: left;\">\n                                        <h1 class=\"null\" style=\"display: block;font-family: Helvetica;font-size: 26px;font-style: normal;font-weight: bold;line-height: 100%;letter-spacing: normal;margin: 0;text-align: left;color: #202020 !important;\">How to improve your English with News in Levels:</h1>\n&nbsp;\n\n<h2 class=\"null\" style=\"display: block;font-family: Helvetica;font-size: 20px;font-style: normal;font-weight: bold;line-height: 100%;letter-spacing: normal;margin: 0;text-align: left;color: #404040 !important;\"><span style=\"color:#339900\"><img align=\"none\" height=\"28\" src=\"https://gallery.mailchimp.com/7d0d81aa603a68fce9160a785/images/cdf34102-5c0e-4c26-a3d3-d0592e8e981e.png\" style=\"vertical-align: middle;width: 32px;height: 28px;margin: 0px;border: 0;line-height: 100%;outline: none;text-decoration: none;\" width=\"32\">&nbsp;Reading</span></h2>\n\n<ol>\n\t<li>Read all today's articles and translate all words which you don't understand.</li>\n\t<li>Read the articles from the day before and see if you remember all new words.</li>\n</ol>\n\n<h2 class=\"null\" style=\"line-height: 20.7999992370605px;display: block;font-family: Helvetica;font-size: 20px;font-style: normal;font-weight: bold;letter-spacing: normal;margin: 0;text-align: left;color: #404040 !important;\"><span style=\"color: #339900;\"><img align=\"none\" height=\"32\" src=\"https://gallery.mailchimp.com/7d0d81aa603a68fce9160a785/images/ce7df14b-6670-47bf-becb-594f1fae0354.png\" style=\"vertical-align: middle;width: 32px;height: 32px;margin: 0px;border: 0;line-height: 100%;outline: none;text-decoration: none;\" width=\"32\">&nbsp;Listening</span></h2>\n\n<ol>\n\t<li>Listen to all today's news.</li>\n\t<li>Stop the video after every sentence and repeat the sentence.</li>\n\t<li>Repeat point 2 for the news which you listened to the day before.</li>\n</ol>\n\n<h2 class=\"null\" style=\"line-height: 20.7999992370605px;display: block;font-family: Helvetica;font-size: 20px;font-style: normal;font-weight: bold;letter-spacing: normal;margin: 0;text-align: left;color: #404040 !important;\"><br>\n<span style=\"color: #339900;\"><img align=\"none\" height=\"39\" src=\"https://gallery.mailchimp.com/7d0d81aa603a68fce9160a785/images/20d0b18e-4364-481d-85c6-f9cff63881f8.png\" style=\"vertical-align: middle;width: 32px;height: 39px;margin: 0px;border: 0;line-height: 100%;outline: none;text-decoration: none;\" width=\"32\">&nbsp;Writing</span></h2>\n\n<ol>\n\t<li>Answer the questions under today's news and write them into the comments.</li>\n\t<li>Chat in the <span style=\"line-height:20.7999992370605px\">&nbsp;</span><a href=\"http://www.newsinlevels.com/chat/\" style=\"line-height: 20.7999992370605px;color: #08aaf5;font-weight: normal;text-decoration: underline;word-wrap: break-word !important;\" target=\"_blank\">Chat room</a> for at least 2 minutes.&nbsp;You can write about today's news.</li>\n</ol>\n\n<h2 class=\"null\" style=\"line-height: 20.7999992370605px;display: block;font-family: Helvetica;font-size: 20px;font-style: normal;font-weight: bold;letter-spacing: normal;margin: 0;text-align: left;color: #404040 !important;\"><br>\n<span style=\"color: #339900;\"><img align=\"none\" height=\"21\" src=\"https://gallery.mailchimp.com/7d0d81aa603a68fce9160a785/images/5333161a-3e3e-4354-8e5c-13c5b347908b.png\" style=\"vertical-align: middle;width: 32px;height: 21px;margin: 0px;border: 0;line-height: 100%;outline: none;text-decoration: none;\" width=\"32\">&nbsp;Speaking</span></h2>\n\n<ol>\n\t<li>Choose one person from the <a href=\"http://www.newsinlevels.com/skype/\" target=\"_blank\" style=\"color: #08aaf5;font-weight: normal;text-decoration: underline;word-wrap: break-word !important;\">SKYPE section</a>.</li>\n\t<li>You can talk about today’s news or you can answer questions from&nbsp; <a href=\"http://www.newsinlevels.com/questions/\" target=\"_blank\" style=\"color: #08aaf5;font-weight: normal;text-decoration: underline;word-wrap: break-word !important;\">http://www.newsinlevels.com/questions/</a></li>\n</ol>\nIf you want to know how to learn English effectively, please visit <a href=\"http://www.englishrestart.com\" target=\"_blank\" style=\"color: #08aaf5;font-weight: normal;text-decoration: underline;word-wrap: break-word !important;\">www.englishrestart.com</a>.<br>\n&nbsp;\n                                    </td>\n                                </tr>\n                            </tbody></table>\n                       \n            <div class=\"cleaner\"><!-- / --></div>\n        </div>\n        <div class=\"cleaner\"><!-- / --></div>\n\n                            <div class=\"cleaner\"><!-- / --></div>\n\n\n<!--eshop-box-->\n<style>\n#eshop-box img {width:140px; height:140px; margin:0px}\n#eshop-box .eshop-product {float:left; margin-left:10px; text-align:center; width:140px}\n#eshop-box  a.title {display:block; text-align:center}\n#eshop-box  .price {color:green}\n\n</style>\n<!--<div class=\"box rbcWidgetArea\">\n<div id=\"eshop-box\"></div>\n</div>\n<script type=\"text/javascript\">\n\n/*jQuery(document).ready(function() {\n\tvar d;\n    var url = \"http://www.english-in-shop.com/95c6e2928c1bb1cbe81a4d53de03e716/?callback=?\";\n    var tag;\n     var h = \"\";\n    if (jQuery(\"h1\").text().indexOf(\"level 1\") !=-1) {tag = \"1\"}\n    else if (jQuery(\"h1\").text().indexOf(\"level 2\") !=-1) {tag = \"2\"}\n    else if (jQuery(\"h1\").text().indexOf(\"level 3\") !=-1) {tag = \"3\"}\n    else {jQuery(\"#eshop-box\").parent().hide();return false}\n    \n\n     jQuery.getJSON( url, {\n    \"action\": \"woocommerce_json_api\",\n    \"proc\": \"get_products_by_tags\",\n    \"arguments\": {\n        \"token\": \"cdf261a7cb8bb32c83f367756dbe7796\",\n        \"per_page\": 20,\n        \"page\": 1,\n        \"tags\": [\n            'level-'+tag\n        ]\n    }\n    })\n  .done(function( data ) {\n  console.log(data);\n  \n  d = jQuery.grep(data.payload, function( a ) {\n  return a.publishing == \"publish\" && a.featured_image.length >0;\n});\nd0 = data;\nd = d.reverse();\nif (data.status==true) {\n     \n  \t jQuery(\"#eshop-box\").append(\"<h3>Do you want to learn more at level \"+tag+\"? Buy products from News in Levels:</h3>\");\n\t \n\t console.log(d[0]);\n\t console.log(d[1]);\n\t console.log(d[2]);\n\t console.log(d[3]);\n\t console.log(d[4]);\n\t for (var i=0;i<4;i++)\n\t\t{ \n\t\titem = d[i];\n\t\tconsole.log(i);\t\n\t\tjQuery(\"<div class='eshop-product'><a href='http://www.english-in-shop.com/\"+item.slug+\"' target='_blank'><img src='http://www.english-in-shop.com/wp-content/uploads/\"+item.featured_image[0].path+\"'/></a><a class='title' href='http://www.english-in-shop.com/\"+item.slug+\"' target='_blank'>\"+item.name+\"</a><span class='price'>$\"+item.price+\"</span></div>\").appendTo( \"#eshop-box\" );\n\t  }\t  \t  \n}\nelse {\njQuery(\"#eshop-box\").parent().hide();\n    \n}\n\n});\n\n  });*/\n</script>\n-->\n<!--END of Eshop box-->\n\n\n                                          \n                        <div class=\"cleaner\"><!-- / --></div>\n                    </div>\n                    <!-- /CONTENT -->\n                        \n                </div><!-- mainContent -->\n                \n                <div id=\"sidebar\">\n                    <div id=\"sidebarContent\">\n                                                <div class=\"rbcWidgetArea\" style=\"text-align: center;\"><div id=\"nilbanner\"></div> <script>  jQuery(document).ready(function(){ if (navigator.language == \"cs\" || navigator.language == \"cs-CZ\"  || navigator.language == \"sk\" || navigator.browserLanguage == \"cs\" || navigator.browserLanguage == \"cs-CZ\" || navigator.browserLanguage == \"sk\") { jQuery(\"#nilbanner\").html('<a href=\"http://www.anglickagramatikapromluveni.cz?a_box=jpbw6vyr&a_cam=9\" target=\"_blank\"><img src=\"http://files.newsinlevels.com/200006538-07a8f0901c/GramatikaCZ.gif\"></a>'); } });  </script> </div><div class=\"rbcWidgetArea\" style=\"text-align: center;\"><script>console.log(RubicusFrontendIns.location.pathname.indexOf(\"/products/\") + \" | \" + RubicusFrontendIns.location.pathname.indexOf(\"-level-\"));if (RubicusFrontendIns.location.pathname.indexOf(\"/products/\") > -1 && RubicusFrontendIns.location.pathname.indexOf(\"-level-\") == -1) {console.log(location.protocol + '//' + location.hostname + RubicusFrontendIns.location.pathname.substr(\"0\",RubicusFrontendIns.location.pathname.length-1) + \"-level-1\" );window.location=location.protocol + '//' + location.hostname + RubicusFrontendIns.location.pathname.substr(\"0\",RubicusFrontendIns.location.pathname.length-1) + \"-level-1\" throw \"Redirecting...\";}</script></div><div class=\"rbcWidgetArea\" style=\"text-align: center;\">  <script src=\"http://ads-by.yieldselect.com/tags/6340/114/async/300x250.js\" type=\"text/javascript\"></script> </div><div class=\"rbcWidgetArea\" style=\"text-align: center;\"><script type='text/javascript'> var googletag = googletag || {}; googletag.cmd = googletag.cmd || []; (function() { var gads = document.createElement('script'); gads.async = true; gads.type = 'text/javascript'; var useSSL = 'https:' == RubicusFrontendIns.location.protocol; gads.src = (useSSL ? 'https:' : 'http:') +  '//www.googletagservices.com/tag/js/gpt.js'; var node = document.getElementsByTagName('script')[0]; node.parentNode.insertBefore(gads, node); })(); </script>  <script type='text/javascript'> googletag.cmd.push(function() { googletag.defineSlot('/11322282/NewsInLevels.com//300x250', [300, 250], 'div-gpt-ad-1408661363620-2').addService(googletag.pubads()); googletag.pubads().enableSingleRequest(); googletag.enableServices(); }); </script>   <div id='div-gpt-ad-1408661363620-2' style='width:300px; height:250px;'> <script type='text/javascript'> googletag.cmd.push(function() { googletag.display('div-gpt-ad-1408661363620-2'); }); </script> </div></div><div class=\"rbcWidgetArea\" style=\"text-align: center;\"><a href=\"http://www.englishrestart.com\" target=\"_blank\"><img alt=\"\" height=\"250\" src=\"http://files.newsinlevels.com/200006095-c30ddc5015/English%20Restart.gif\" width=\"300\"></a></div><div class=\"rbcWidgetArea\" style=\"text-align: center;\"><div style=\"background-color: white;margin-bottom:20px;\"><div style=\"border-style:solid;border-width:1px;border-color:#C0C0C0;width: 298px;\"><div id=\"title\" style=\"height:20px;font-size: 18px;color:#006699;font-weight:bold;padding: 7px 0 0 7px;margin-bottom: 15px;\">Translate</div><iframe src=\"http://en.bab.la/widgets/show.php?w=200&amp;h=200&amp;adict=all\" width=\"286px\" height=\"200px\" id=\"babla\" name=\"babla\" style=\"border:0;background-color:#ffffff;margin-left:10px;\" scrolling=\"no\"></iframe><div id=\"powered\" style=\"float:right;font-family: Verdana,Arial,Trebuchet MS, Helvetica, sans-serif;font-size:11px;color: rgb(143, 143, 143);\">© bab.la <a href=\"http://en.bab.la/\" style=\"color:#000000;text-decoration:none;\" target=\"_blank\">dictionary</a>&nbsp;</div><div style=\"clear:both;\"></div></div></div></div><div class=\"rbcWidgetArea\" style=\"text-align: center;\"><iframe src=\"//player.vimeo.com/video/93357768?title=0&amp;byline=0&amp;portrait=0\" width=\"300\" height=\"169\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>\n\n        <div class=\"box wswBox wysiwyg\">\n\n    <p style=\"text-align: center;\"><strong><span style=\"color:#006699;\"><span style=\"font-size: 18px;\"><span style=\"line-height: 21px;\">Do you want to get </span></span></span></strong></p>\n<p style=\"text-align: center;\"><span style=\"line-height: 21px;\"><font color=\"#006699\" size=\"4\"><b>daily</b></font>&nbsp;</span><strong><span style=\"color:#006699;\"><span style=\"font-size: 18px;\"><span style=\"line-height: 21px;\">news to your email?</span></span></span></strong></p>\n<div class=\"center\">\n\t<div class=\"levelSubmitBigOne\">\n\t\t<a href=\"http://www.newsinlevels.com/daily-news/\">Click HERE</a></div>\n</div>\n\n                       \n            <div class=\"cleaner\"><!-- / --></div>\n        </div>\n        <div class=\"cleaner\"><!-- / --></div>\n\n    <div class=\"rbcWidgetArea\" style=\"text-align: center;\">  <script src=\"http://ads-by.yieldselect.com/tags/6340/114/async/300x600.js\" type=\"text/javascript\"></script> </div>                        <!-- CONTACT -->\n                        \t\t\t\n                        <!-- /CONTACT -->\n                                                <div class=\"rbcWidgetArea\" style=\"text-align: center;\"><script type=\"text/javascript\">/*<![CDATA[*/console.log('jej');jQuery(document).ready(function(){console.log(RubicusFrontendIns.location.host);if (RubicusFrontendIns.location.host.indexOf(\"m.newsinlevels.com\") > -1 && RubicusFrontendIns.location.href.indexOf(\"/level-0/\") == -1 && RubicusFrontendIns.location.href.indexOf(\"/level-1/\") == -1 && RubicusFrontendIns.location.href.indexOf(\"/level-2/\") == -1 && RubicusFrontendIns.location.href.indexOf(\"/level-3/\") == -1) {  jQuery('#illustrationWrapper').hide();        var urls = [];        var level1 = [];        var level2 = [];        var level3 = [];        var date = [];                        jQuery(\".boxProducts h3 a[href]\").each(function(i) {            urls[i] = jQuery(this).attr('href');            delka = urls[i].length;            delka = delka - 1;            urls[i] = urls[i].substring(0,delka);            level1[i] = urls[i] + '-level-1/';            level2[i] = urls[i] + '-level-2/';            level3[i] = urls[i] + '-level-3/';            jQuery(this).attr('href', level1[i]);    jQuery(this).parents('.boxProducts').children('.boxContent').append('<br><a href=\"'+level1[i]+'\">Level 1</a> | <a href=\"'+level2[i]+'\">Level 2</a> | <a href=\"'+level3[i]+'\">Level 3</a>');    jQuery(this).parents('.boxProducts').find('.boxImage a').attr('href', level1[i]);        });  var url = jQuery(location).attr('href');        delka = url.lastIndexOf(\"-\")+1;        url = url.substring(0,delka);jQuery('.wrapperContent').append('<br>Read this article in a different level: <a href=\"'+url+'1\">Level 1</a> | <a href=\"'+url+'2\">Level 2</a> | <a href=\"'+url+'3\">Level 3</a>');}                              });/*]]>*/</script></div><div class=\"rbcWidgetArea\" style=\"text-align: center;\"><script>\nif (jQuery('.productDetail').length > 0) {\n\njQuery.getScript( \"http://checklevel.com/js/jquery.jfeed.pack.js\", function( data, textStatus, jqxhr ) {\n\njQuery.getFeed({\n        url: 'http://www.maintop.biz/nil-rss.aspx',\n        success: function(feed) {\n        console.log(feed);\n          jQuery('#content').append('<style>.feedresult img {float:left}</style><div class=\"box rbcWidgetArea feedResult\"><h3>More articles on News in Levels</h3></div>');\n           \n            var html = '';\n            var ritems = shuffle(feed.items);\n            for(var i = 0; i < feed.items.length && i < 3; i++) {\n           \n                var item = ritems[i];\n                    console.log(item);\n               \n                html += '<div class=\"feed-item\"><h4>'\n                + '<strong><a href=\"'\n                + item.link\n                + '\">'\n                + item.title\n                + '</a></strong>'\n                + '</h4>';\n               \n                /*html += '<div class=\"updated\">'\n                + item.updated\n                + '</div>';*/\n               \n                html += '<div>'                   \n                + item.description\n                + '</div></div><hr style=\"clear:both\">';\n            }\n\n            jQuery('.feedResult').append(html);\n               jQuery('.feedResult img').css(\"float\",\"left\");\n               jQuery('.feedResult img').css(\"max-height\",\"100px\");\n               jQuery('.feedResult img').css(\"margin-top\",\"10px\");\n               jQuery('.feedResult img').css(\"margin-bottom\",\"10px\");\n               jQuery('.feedResult img').css(\"margin-right\",\"10px\");\n               jQuery('.feedResult img').css(\"margin-left\",\"0px\");\n               jQuery('.feedResult h4').css(\"padding-top\",\"10px\");              \n            jQuery.each(jQuery('.feedResult img'), function(i,v){\n                    console.log(jQuery(v).parents().parent().parent().siblings(\"h4\"))\n                    jQuery(v).parent().insertBefore(jQuery(v).parents(\".feed-item\").find(\"h4\"))                   \n               })\n        }   \n    });\n    \n     });\n     }\n\t \n\t function shuffle(arr) {\n    var shuffled = arr.slice(0), i = arr.length, temp, index;\n    while (i--) {\n        index = Math.floor(i * Math.random());\n        temp = shuffled[index];\n        shuffled[index] = shuffled[i];\n        shuffled[i] = temp;\n    }\n    return shuffled;\n}\n     </script></div><div class=\"rbcWidgetArea\" style=\"text-align: center;\"><style type=\"text/css\">.slide-out-div {\n\tpadding: 20px;\n\twidth: 500px;\n\tbackground: #fff;\n\tborder: 1px solid #29216d;\n\tdisplay: none;\n\tmax-height: 500px;\n\toverflow-y: auto;\n}\n.slide-wrapper {\n\tposition: fixed;\n\tbottom: 0px;\n\tright: 50px;\n\tz-index: 9900;\n}\n.slide-tab {\n\theight: 41px;\n\ttext-align: right;\n\tcursor: pointer;\n}\n.slide-tab img {\n\tmargin: 0;\n}\n</style>\n<div class=\"slide-wrapper\">\n\t<div class=\"slide-tab\"><img src=\"http://simplifyenglish.maintop.biz/external/chat.png\"></div>\n\t<div class=\"slide-out-div\">\n<div id=\"disqus_thread\">\n\t&nbsp;</div>\n<script type=\"text/javascript\">\n        var disqus_shortname = 'newsinlevels';\n        var disqus_identifier = 'sitechat';\n\n\n        (function() {\n            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;\n            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';\n            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);\n        })();\n    </script>\n\n\t       </div>        </div>\n\t<script type=\"text/javascript\">jQuery( \".slide-tab\" ).click(function() {\n\tjQuery( \".slide-out-div\" ).slideToggle();\n\t}\n\t);\n\t</script></div><div class=\"rbcWidgetArea\" style=\"text-align: center;\"><script src=\"http://affiliate.englishrestart.com/js/module/tracking.js\" type=\"text/javascript\"></script>\n<script type=\"text/javascript\">\n\tvar affilate = 'http://affiliate.englishrestart.com/';\t\n\tvar advertiser = 3;\n\tvar kampan = 0;\t\n\ttracking();    \n</script></div><div class=\"rbcWidgetArea\" style=\"text-align: center;\"><script>(function() {\n  var _fbq = window._fbq || (window._fbq = []);\n  if (!_fbq.loaded) {\n    var fbds = document.createElement('script');\n    fbds.async = true;\n    fbds.src = '//connect.facebook.net/en_US/fbds.js';\n    var s = document.getElementsByTagName('script')[0];\n    s.parentNode.insertBefore(fbds, s);\n    _fbq.loaded = true;\n  }\n  _fbq.push(['addPixelId', '1592398257661297']);\n})();\nwindow._fbq = window._fbq || [];\nwindow._fbq.push(['track', 'PixelInitialized', {}]);\n</script>\n<noscript><img height=\"1\" width=\"1\" alt=\"\" style=\"display:none\" src=\"https://www.facebook.com/tr?id=1592398257661297&amp;ev=PixelInitialized\" /></noscript></div>                        <div class=\"cleaner\"><!-- / --></div>                                \n                    </div>\n\n                    <div class=\"cleaner\"><!-- / --></div>\n                </div>\n                \n                <div class=\"cleaner\"><!-- / --></div>\n                \n            </div>\n            <!-- MAIN -->\n            \n            <div class=\"cleaner\"><!-- / --></div>\n                \n            <!-- MENU -->\n            \n\n\n        <div id=\"menuzone\">\n            \n    <ul class=\"menu\">\n\t<li class=\"first\">\n  \n        <a href=\"/home/\">\n    \n        <span>Home</span>\n      \n    </a>\n  \n    </li>\n\t<li>\n  \n        <a href=\"/level-1/easyenglishnews/\">\n    \n        <span>Level 1</span>\n      \n    </a>\n  \n    \n\t<ul class=\"level1\">\n\t\t<li class=\"first\">\n  \n        <a href=\"/level-1/news/\">\n    \n        <span>News</span>\n      \n    </a>\n  \n    </li>\n\t\t<li>\n  \n        <a href=\"/level-1/sport/\">\n    \n        <span>Sport</span>\n      \n    </a>\n  \n    </li>\n\t\t<li>\n  \n        <a href=\"/level-1/nature/\">\n    \n        <span>Nature</span>\n      \n    </a>\n  \n    </li>\n\t\t<li>\n  \n        <a href=\"/level-1/history/\">\n    \n        <span>History</span>\n      \n    </a>\n  \n    </li>\n\t\t<li>\n  \n        <a href=\"/level-1/interesting/\">\n    \n        <span>Interesting</span>\n      \n    </a>\n  \n    </li>\n\t\t<li>\n  \n        <a href=\"/level-1/funny/\">\n    \n        <span>Funny</span>\n      \n    </a>\n  \n    </li>\n\t\t<li>\n  \n        <a href=\"/level-1/information/\">\n    \n        <span>Information</span>\n      \n    </a>\n  \n    </li>\n\t\t<li class=\"last\">\n  \n        <a href=\"/level-1/exercises/\">\n    \n        <span>Exercises</span>\n      \n    </a>\n  \n    </li>\n\t</ul>\n\t</li>\n\t<li>\n  \n        <a href=\"/level-2/simpleenglishnews/\">\n    \n        <span>Level 2</span>\n      \n    </a>\n  \n    \n\t<ul class=\"level1\">\n\t\t<li class=\"first\">\n  \n        <a href=\"/level-2/news/\">\n    \n        <span>News</span>\n      \n    </a>\n  \n    </li>\n\t\t<li>\n  \n        <a href=\"/level-2/sport/\">\n    \n        <span>Sport</span>\n      \n    </a>\n  \n    </li>\n\t\t<li>\n  \n        <a href=\"/level-2/nature/\">\n    \n        <span>Nature</span>\n      \n    </a>\n  \n    </li>\n\t\t<li>\n  \n        <a href=\"/level-2/history/\">\n    \n        <span>History</span>\n      \n    </a>\n  \n    </li>\n\t\t<li>\n  \n        <a href=\"/level-2/interesting/\">\n    \n        <span>Interesting</span>\n      \n    </a>\n  \n    </li>\n\t\t<li>\n  \n        <a href=\"/level-2/funny/\">\n    \n        <span>Funny</span>\n      \n    </a>\n  \n    </li>\n\t\t<li>\n  \n        <a href=\"/level-2/information/\">\n    \n        <span>Information</span>\n      \n    </a>\n  \n    </li>\n\t\t<li class=\"last\">\n  \n        <a href=\"/level-2/exercises/\">\n    \n        <span>Exercises</span>\n      \n    </a>\n  \n    </li>\n\t</ul>\n\t</li>\n\t<li>\n  \n        <a href=\"/level-3/simpleenglishstories/\">\n    \n        <span>Level 3</span>\n      \n    </a>\n  \n    \n\t<ul class=\"level1\">\n\t\t<li class=\"first\">\n  \n        <a href=\"/level-3/news/\">\n    \n        <span>News</span>\n      \n    </a>\n  \n    </li>\n\t\t<li>\n  \n        <a href=\"/level-3/sport/\">\n    \n        <span>Sport</span>\n      \n    </a>\n  \n    </li>\n\t\t<li>\n  \n        <a href=\"/level-3/nature/\">\n    \n        <span>Nature</span>\n      \n    </a>\n  \n    </li>\n\t\t<li>\n  \n        <a href=\"/level-3/history/\">\n    \n        <span>History</span>\n      \n    </a>\n  \n    </li>\n\t\t<li>\n  \n        <a href=\"/level-3/interesting/\">\n    \n        <span>Interesting</span>\n      \n    </a>\n  \n    </li>\n\t\t<li>\n  \n        <a href=\"/level-3/funny/\">\n    \n        <span>Funny</span>\n      \n    </a>\n  \n    </li>\n\t\t<li>\n  \n        <a href=\"/level-3/information/\">\n    \n        <span>Information</span>\n      \n    </a>\n  \n    </li>\n\t\t<li class=\"last\">\n  \n        <a href=\"/level-3/exercises/\">\n    \n        <span>Exercises</span>\n      \n    </a>\n  \n    </li>\n\t</ul>\n\t</li>\n\t<li>\n  \n        <a href=\"/test-your-level/\">\n    \n        <span>Test</span>\n      \n    </a>\n  \n    </li>\n\t<li>\n  \n        <a href=\"/about-us/\">\n    \n        <span>About</span>\n      \n    </a>\n  \n    \n\t<ul class=\"level1\">\n\t\t<li class=\"first\">\n  \n        <a href=\"/daily-news/\">\n    \n        <span>Daily News</span>\n      \n    </a>\n  \n    \n\t\t<ul class=\"level2\">\n\t\t\t<li class=\"first\">\n  \n        <a href=\"/faq-/authors-of-pictures/\">\n    \n        <span>Authors of Pictures</span>\n      \n    </a>\n  \n    </li>\n\t\t\t<li>\n  \n        <a href=\"/daily-news/archive-2012/\">\n    \n        <span>Archive 2012</span>\n      \n    </a>\n  \n    </li>\n\t\t\t<li class=\"last\">\n  \n        <a href=\"/daily-news/archive-2011/\">\n    \n        <span>Archive 2011</span>\n      \n    </a>\n  \n    </li>\n\t\t</ul>\n\t\t</li>\n\t\t<li>\n  \n        <a href=\"/help-us/want-to-advertise-with-us/\">\n    \n        <span>Advertise with Us</span>\n      \n    </a>\n  \n    </li>\n\t\t<li>\n  \n        <a href=\"/faq-/\">\n    \n        <span>FAQ</span>\n      \n    </a>\n  \n    </li>\n\t\t<li>\n  \n        <a href=\"/about-us/for-teachers/\">\n    \n        <span>For Teachers</span>\n      \n    </a>\n  \n    </li>\n\t\t<li>\n  \n        <a href=\"/partners/\">\n    \n        <span>Partners</span>\n      \n    </a>\n  \n    </li>\n\t\t<li>\n  \n        <a href=\"/about-us/conditions-of-use/\">\n    \n        <span>Conditions of Use</span>\n      \n    </a>\n  \n    </li>\n\t\t<li class=\"last\">\n  \n        <a href=\"/contact/\">\n    \n        <span>Contact</span>\n      \n    </a>\n  \n    </li>\n\t</ul>\n\t</li>\n\t<li>\n  \n        <a href=\"/skype/\">\n    \n        <span>SKYPE</span>\n      \n    </a>\n  \n    </li>\n\t<li>\n  \n        <a href=\"/chat/\">\n    \n        <span>CHAT</span>\n      \n    </a>\n  \n    </li>\n\t<li class=\"last\">\n  \n        <a href=\"/games/\">\n    \n        <span>GAMES</span>\n      \n    </a>\n  \n    </li>\n</ul>\n\n        </div>\n\n    \t\t\t\n            <!-- /MENU -->\n\n            <!-- LANG -->\n            <div id=\"lang\"><div id=\"languageSelect\"></div>\t\t\t</div>\n            <!-- /LANG -->\n            \n            <!-- SEARCH -->\n            \n    \n        <div class=\"searchBox\">\n\n    <form action=\"/search/\" method=\"get\" id=\"fulltextSearch\">\n        \n        <fieldset>\n            <label for=\"fulltextSearchText\" class=\"hidden\">Search:</label>\n            <input id=\"fulltextSearchButton\" type=\"image\" src=\"/img/search-submit.png\" title=\"Search\" />\n            <input type=\"text\" id=\"fulltextSearchText\" name=\"text\" value=\"\">\n            <script type=\"text/javascript\">\n                var ftText = document.getElementById(\"fulltextSearchText\");\n                if ( ftText.value == \"\" ) ftText.value = \"Search\";\n\n                ftText.tabIndex = \"1\";\n\n\t\t// Doplneni udalosti onfocus a onblur na pole pro zadani vyhledavaneho textu\n\t\tftText.onfocus = function() { checkInputValue(this, \"Search\"); };\n\t\tftText.onblur = function() { checkInputValue(this, \"Search\"); };\n\n\t\t// Kontrola odesilaneho vyhledavaneho textu, aby se neodesilal vychozi text\n\t\tdocument.getElementById(\"fulltextSearch\").onsubmit = function() { return checkFormValue(\"Search\"); };\n\n            </script>\n            <div class=\"cleaner\"><!-- / --></div>\n\t</fieldset>\n\n    </form>\n        \n        </div>\n\n                <!-- /SEARCH -->                \n            \n        <div class=\"cleaner\"><!-- / --></div>   \n</div>\n        \n    <div class=\"cleaner\"><!-- / --></div>\n        \n    <!-- FOOTER -->\n    <div id=\"footer\">\n        <div id=\"footerContent\">         \n            <div id=\"footerLeft\"><span id=\"rbcFooterText\" class=\"rbcNoStyleSpan\">© 2014, All rights reserved.</span> <span class=\"rbcSignatureText\"><a href=\"/privacy\">Privacy</a>   |  <a href=\"/partners\">Partners</a>   |  <a href=\"/about-us/conditions-of-use/\">Conditions</a></span></div>\n            <div id=\"footerRight\">\n\t\t<span class=\"rss\"><a href=\"http://feeds.feedburner.com/NewsInLevels\" title=\"RSS\" target=\"_blank\"><span>RSS</span></a></span>                \n\t\t<span class=\"youtube\"><a href=\"http://www.youtube.com/user/NewsinLevels\" title=\"YouTube\" target=\"_blank\"><span>YouTube</span></a></span>\n                <span class=\"soundcloud\"><a href=\"http://soundcloud.com/englishinlevels\" title=\"SoundCloud\" target=\"_blank\"><span>SoundCloud</span></a></span>\n                <span class=\"google\"><a href=\"https://plus.google.com/u/0/101485673352133295219/posts\" title=\"Google+\" target=\"_blank\"><span>Google+</span></a></span>\n                <span class=\"twitter\"><a href=\"http://twitter.com/newsinlevels\" title=\"Twitter\" target=\"_blank\"><span>Twitter</span></a></span>\n                <span class=\"facebook\"><a href=\"http://www.facebook.com/newsinlevels\" title=\"Facebook\" target=\"_blank\"><span>Facebook</span></a></span>\n\n             </div>\n            <div class=\"cleaner\"><!-- / --></div>\n        </div>\n    </div>\n    <!-- /FOOTER -->\n    \n    <div class=\"cleaner\"><!-- / --></div>\n    \n    </div></div>\n\n    <script type=\"text/javascript\">\n    /* <![CDATA[ */\n    \n        rebuild_menu();\n\n\n        RubicusFrontendIns.addObserver\n\t({\n            onContentChange: function ()\n            {\n                RubicusFrontendIns.faqInit('faq', 'answerBlock');\n                rebuild_menu();\n            },\n\n            onStartSlideshow: function()\n            {\n                $('slideshowControl').innerHTML\t= '<span>Pause<'+'/span>';\n\t\t$('slideshowControl').title = 'Pauses the slideshow';\n\t\t$('slideshowControl').onclick = RubicusFrontendIns.stopSlideshow.bind(RubicusFrontendIns);\n            },\n\n            onStopSlideshow: function()\n            {\n                $('slideshowControl').innerHTML\t= '<span>Slideshow<'+'/span>';\n\t\t$('slideshowControl').title = 'Starts the slideshow';\n\t\t$('slideshowControl').onclick = RubicusFrontendIns.startSlideshow.bind(RubicusFrontendIns);\n            },\n\n            onShowImage: function()\n            {\n                if (RubicusFrontendIns.isSlideshowMode())\n\t\t{\n                    $('slideshowControl').innerHTML = '<span>Pause<'+'/span>';\n                    $('slideshowControl').title\t= 'Pauses the slideshow';\n                    $('slideshowControl').onclick = RubicusFrontendIns.stopSlideshow.bind(RubicusFrontendIns);\n\t\t}\n            }\n\t});\n        \n        RubicusFrontendIns.faqInit('faq', 'answerBlock');\n        \n        RubicusFrontendIns.addFileToPreload('/img/loading.gif');\n\n    /* ]]> */\n    </script>\n    \n    <script type=\"text/javascript\">\n            jQuery.noConflict();\n            jQuery(document).ready(function(){\n                levelSubmit();\n                levelURL();\n                eshopMenu();\n                betaLevel();\n            });\n        </script>\n<!-- Begin MailChimp Signup Form -->\n<link href=\"//cdn-images.mailchimp.com/embedcode/classic-081711.css\" rel=\"stylesheet\" type=\"text/css\">\n<style type=\"text/css\">\n\t#mc_embed_signup{ position:absolute; top:0; left:0; width:100%; height:100%; background-color:rgba(0,0,0,.8);display:none;z-index:10000; }\n\t#mc_embed_signup form{ position:fixed; top:10%; left:50%; margin-left:-25%; font:normal 100% Helvetica,Arial,sans-serif; font-size:14px; border-radius:4px; border:none; padding:10px 20px; background-color:#fff; color:#000; text-align:left;max-height:600px;overflow-y:auto;overflow-x:hidden;}\n\t#mc_embed_signup a.mc_embed_close{ background:transparent url(http://downloads.mailchimp.com/img/closebox.png) no-repeat; display:block; height:30px; width:30px; text-indent:-999em; position:absolute; top:0px; right:0px; display:none; z-index:1000}\n\t#mc_embed_signup .mc-field-group { width:45%; display:inline-block; margin-right:10px; padding-bottom: 0px;}\n    #mc_embed_signup .mc-field-group.input-group ul li { display:inline-block}\n    #mc_embed_signup .mc-field-group.input-group ul li input { margin-right:5px}\n\t#mc_embed_signup .button {background-color:#D32323}\n    #mc_embed_signup .button:hover {background-color:#E94B4B}\n\t#mc_embed_signup div#mce-responses {\n\twidth: 600px;\n\tmargin: 0px;\n\tfloat: none;\n\t}\n\t#mc_embed_signup div.response {\n\tmargin: 0px 0px 20px 0px;\n\tpadding: 0px;\n\twidth: auto;\n\t}\t\n</style>\n<div id=\"mc_embed_signup\">\n\n<form action=\"http://newsinlevels.us6.list-manage1.com/subscribe/post?u=7d0d81aa603a68fce9160a785&amp;id=5e8b2df5d8\" method=\"post\" id=\"mc-embedded-subscribe-form\" name=\"mc-embedded-subscribe-form\" class=\"validate\" target=\"_blank\" novalidate>\n<div style=\"display:none\">\n<iframe src=\"http://simplifyenglish.maintop.biz/test\" style=\"width:600px; height:500px; border: none;\"></iframe>\n\t<h2>1) Watch this video about News in Levels</h2>\n<iframe src=\"//player.vimeo.com/video/100007767?title=0&amp;byline=0&amp;portrait=0\" width=\"448\" height=\"252\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\t\n\t\n<h2 style=\"clear:both; padding-top:20px\">2) Practice your English every day for free!</h2>\n        <p style=\"margin-bottom: 15px;\">We will send you articles from News in Levels every day to your email. You can stop them at any time.</p>\n<!--<div class=\"mc-field-group\">\n\t<label for=\"mce-MMERGE1\">Name  <span class=\"asterisk\">*</span>\n</label>\n\t<input type=\"text\" value=\"\" name=\"MMERGE1\" class=\"required\" id=\"mce-MMERGE1\">\n</div>-->\n<!--<div class=\"mc-field-group\">\n\t<label for=\"mce-MMERGE2\">Last name </label>\n\t<input type=\"text\" value=\"\" name=\"MMERGE2\" class=\"\" id=\"mce-MMERGE2\">\n</div>-->\n<div class=\"mc-field-group\">\n<!--<label for=\"mce-EMAIL\">Email:\n</label>-->\n\t<input type=\"email\" value=\"\" name=\"EMAIL\" class=\"required email\" id=\"mce-EMAIL\" placeholder=\"Email\">\n</div>\n<!--\n<div class=\"mc-field-group input-group\">\n    <strong>Level </strong>\n    <ul><li><input type=\"checkbox\" value=\"2\" name=\"group[8409][2]\" id=\"mce-group[8409]-8409-0\"><label for=\"mce-group[8409]-8409-0\">Level 1</label></li>\n<li><input type=\"checkbox\" value=\"4\" name=\"group[8409][4]\" id=\"mce-group[8409]-8409-1\"><label for=\"mce-group[8409]-8409-1\">Level 2</label></li>\n<li><input type=\"checkbox\" value=\"8\" name=\"group[8409][8]\" id=\"mce-group[8409]-8409-2\"><label for=\"mce-group[8409]-8409-2\">Level 3</label></li>\n</ul>\n</div>\n-->\n<div class=\"mc-field-group input-group\" style=\"width:90%\">\n    <ul><li><input type=\"checkbox\" value=\"1\" name=\"group[3417][1]\" id=\"mce-group[3417]-3417-0\"><label for=\"mce-group[3417]-3417-0\">I agree to receive articles about news, products and companies.</label></li>\n</ul>\n</div>\n<div id=\"mce-responses\" class=\"clear\">\n\t\t<div class=\"response\" id=\"mce-error-response\" style=\"display:none\"></div>\n\t\t<div class=\"response\" id=\"mce-success-response\" style=\"display:none\"></div>\n\t</div>\t<div class=\"clear\"><input type=\"submit\" value=\"Subscribe\" name=\"subscribe\" id=\"mc-embedded-subscribe\" class=\"button\"></div>\n</div>\n<a href=\"#\" id=\"mc_embed_close\" class=\"mc_embed_close\">Close</a>    \n</form>\n</div>\n<script type=\"text/javascript\">\nvar fnames = new Array();var ftypes = new Array();fnames[1]='MMERGE1';ftypes[1]='text';fnames[2]='MMERGE2';ftypes[2]='text';fnames[0]='EMAIL';ftypes[0]='email';\ntry {\n    var jqueryLoaded=jQuery;\n    jqueryLoaded=true;\n} catch(err) {\n    var jqueryLoaded=false;\n}\nvar head= document.getElementsByTagName('head')[0];\nif (!jqueryLoaded) {\n    var script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = '//ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js';\n    head.appendChild(script);\n    if (script.readyState && script.onload!==null){\n        script.onreadystatechange= function () {\n              if (this.readyState == 'complete') mce_preload_check();\n        }    \n    }\n}\n\nvar err_style = '';\ntry{\n    err_style = mc_custom_error_style;\n} catch(e){\n    err_style = '#mc_embed_signup input.mce_inline_error{ border-color:#6B0505;} #mc_embed_signup div.mce_inline_error{ margin: 0 0 1em 0; padding: 5px 10px; background-color:#6B0505; font-weight: bold; z-index: 1; color:#fff;}';\n}\nvar head= document.getElementsByTagName('head')[0];\nvar style= document.createElement('style');\nstyle.type= 'text/css';\nif (style.styleSheet) {\n  style.styleSheet.cssText = err_style;\n} else {\n  style.appendChild(document.createTextNode(err_style));\n}\nhead.appendChild(style);\nsetTimeout('mce_preload_check();', 250);\n\nvar mce_preload_checks = 0;\nfunction mce_preload_check(){\n    if (mce_preload_checks>40) return;\n    mce_preload_checks++;\n    try {\n        var jqueryLoaded=jQuery;\n    } catch(err) {\n        setTimeout('mce_preload_check();', 250);\n        return;\n    }\n    var script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = 'http://downloads.mailchimp.com/js/jquery.form-n-validate.js';\n    head.appendChild(script);\n    try {\n        var validatorLoaded=jQuery(\"#fake-form\").validate({});\n    } catch(err) {\n        setTimeout('mce_preload_check();', 250);\n        return;\n    }\n    mce_init_form();\n}\nfunction mce_init_form(){\n    jQuery(document).ready( function($) {\n      var options = { errorClass: 'mce_inline_error', errorElement: 'div', onkeyup: function(){}, onfocusout:function(){}, onblur:function(){}  };\n      var mce_validator = jQuery(\"#mc-embedded-subscribe-form\").validate(options);\n      jQuery(\"#mc-embedded-subscribe-form\").unbind('submit');//remove the validator so we can get into beforeSubmit on the ajaxform, which then calls the validator\n      options = { url: 'http://newsinlevels.us6.list-manage.com/subscribe/post-json?u=7d0d81aa603a68fce9160a785&id=5e8b2df5d8&c=?', type: 'GET', dataType: 'json', contentType: \"application/json; charset=utf-8\",\n                    beforeSubmit: function(){\n                        jQuery('#mce_tmp_error_msg').remove();\n                        jQuery('.datefield','#mc_embed_signup').each(\n                            function(){\n                                var txt = 'filled';\n                                var fields = new Array();\n                                var i = 0;\n                                jQuery(':text', this).each(\n                                    function(){\n                                        fields[i] = this;\n                                        i++;\n                                    });\n                                jQuery(':hidden', this).each(\n                                    function(){\n                                        var bday = false;\n                                        if (fields.length == 2){\n                                            bday = true;\n                                            fields[2] = {'value':1970};//trick birthdays into having years\n                                        }\n                                    \tif ( fields[0].value=='MM' && fields[1].value=='DD' && (fields[2].value=='YYYY' || (bday && fields[2].value==1970) ) ){\n                                    \t\tthis.value = '';\n\t\t\t\t\t\t\t\t\t    } else if ( fields[0].value=='' && fields[1].value=='' && (fields[2].value=='' || (bday && fields[2].value==1970) ) ){\n                                    \t\tthis.value = '';\n\t\t\t\t\t\t\t\t\t    } else {\n\t\t\t\t\t\t\t\t\t        if (/\\[day\\]/.test(fields[0].name)){\n    \t                                        this.value = fields[1].value+'/'+fields[0].value+'/'+fields[2].value;\t\t\t\t\t\t\t\t\t        \n\t\t\t\t\t\t\t\t\t        } else {\n    \t                                        this.value = fields[0].value+'/'+fields[1].value+'/'+fields[2].value;\n\t                                        }\n\t                                    }\n                                    });\n                            });\n                        jQuery('.phonefield-us','#mc_embed_signup').each(\n                            function(){\n                                var fields = new Array();\n                                var i = 0;\n                                jQuery(':text', this).each(\n                                    function(){\n                                        fields[i] = this;\n                                        i++;\n                                    });\n                                jQuery(':hidden', this).each(\n                                    function(){\n                                        if ( fields[0].value.length != 3 || fields[1].value.length!=3 || fields[2].value.length!=4 ){\n                                    \t\tthis.value = '';\n\t\t\t\t\t\t\t\t\t    } else {\n\t\t\t\t\t\t\t\t\t        this.value = 'filled';\n\t                                    }\n                                    });\n                            });\n                        return mce_validator.form();\n                    }, \n                    success: mce_success_cb\n                };\n      jQuery('#mc-embedded-subscribe-form').ajaxForm(options);\n      \n              jQuery('#mc_embed_signup').hide();\n        cks = document.cookie.split( ';' );\n        var show=true;\n        for(i=0;i<cks.length;i++){\n            parts = cks[i].split('=');\n            if( parts[0].indexOf('MCEvilPopupClosed')!= -1 ) show = false;\n        }\n        if (show){\n            jQuery('#mc_embed_signup a.mc_embed_close').show();\n            setTimeout( function(){ jQuery('#mc_embed_signup').fadeIn();} , 2000);\n\t        jQuery('#mc_embed_signup a.mc_embed_close').click(function(){ mcEvilPopupClose();});\n        }\n\n        jQuery(document).keydown(function(e){\n            if (e == null) { \n              keycode = event.keyCode;\n            } else { \n              keycode = e.which;\n            }\n            if(keycode == 27){\n                mcEvilPopupClose();\n            }\n        });\n\n        function mcEvilPopupClose(){\n            jQuery('#mc_embed_signup').hide();\n            var now = new Date();\n            var expires_date = new Date( now.getTime() + 31536000000 );\n            document.cookie = 'MCEvilPopupClosed=yes;expires=' + expires_date.toGMTString()+';path=/';\n        }\n\n    });\n}\nfunction mce_success_cb(resp){\n    jQuery('#mce-success-response').hide();\n    jQuery('#mce-error-response').hide();\n    if (resp.result==\"success\"){\n        jQuery('#mce-'+resp.result+'-response').show();\n        jQuery('#mce-'+resp.result+'-response').html(resp.msg);\n        jQuery('#mc-embedded-subscribe-form').each(function(){\n            this.reset();\n    \t});\n    } else {\n        var index = -1;\n        var msg;\n        try {\n            var parts = resp.msg.split(' - ',2);\n            if (parts[1]==undefined){\n                msg = resp.msg;\n            } else {\n                i = parseInt(parts[0]);\n                if (i.toString() == parts[0]){\n                    index = parts[0];\n                    msg = parts[1];\n                } else {\n                    index = -1;\n                    msg = resp.msg;\n                }\n            }\n        } catch(e){\n            index = -1;\n            msg = resp.msg;\n        }\n        try{\n            if (index== -1){\n                jQuery('#mce-'+resp.result+'-response').show();\n                jQuery('#mce-'+resp.result+'-response').html(msg);            \n            } else {\n                err_id = 'mce_tmp_error_msg';\n                html = '<div id=\"'+err_id+'\" style=\"'+err_style+'\"> '+msg+'</div>';\n                \n                var input_id = '#mc_embed_signup';\n                var f = jQuery(input_id);\n                if (ftypes[index]=='address'){\n                    input_id = '#mce-'+fnames[index]+'-addr1';\n                    f = jQuery(input_id).parent().parent().get(0);\n                } else if (ftypes[index]=='date'){\n                    input_id = '#mce-'+fnames[index]+'-month';\n                    f = jQuery(input_id).parent().parent().get(0);\n                } else {\n                    input_id = '#mce-'+fnames[index];\n                    f = jQuery().parent(input_id).get(0);\n                }\n                if (f){\n                    jQuery(f).append(html);\n                    jQuery(input_id).focus();\n                } else {\n                    jQuery('#mce-'+resp.result+'-response').show();\n                    jQuery('#mce-'+resp.result+'-response').html(msg);\n                }\n            }\n        } catch(e){\n            jQuery('#mce-'+resp.result+'-response').show();\n            jQuery('#mce-'+resp.result+'-response').html(msg);\n        }\n    }\n}\n\n</script>\n<!--End mc_embed_signup-->\n<script type=\"text/javascript\">\n  window._taboola = window._taboola || [];\n  _taboola.push({flush: true});\n</script>\n\n  <div id=\"rbcFooterHtml\"></div><script type=\"text/javascript\"></script></body>\n</html>"
//    println(ArticleExtractor.INSTANCE.getText(str));
//
//    val actor: ActorRef = null;
//    implicit val timeout = Timeout(1 second)
//    actor ? "message"

//    true should be === true
  }
}
class RestartingActor extends Actor{
  println("Constructor")

  override def preStart(): Unit = println("preStart")
  override def postStop(): Unit = println("postStop")
  override def preRestart(reason: Throwable, message: Option[Any]) {
    //unwatch children
    println("preRestart")
    postStop()
  }

  override def postRestart(reason: Throwable) {
    println("postRestart")
    preStart()
  }

  override def receive: Receive = {
    case _ =>
      if(state == ONLINE){
        //process message
      }else {
        //fail
      }

  }
}